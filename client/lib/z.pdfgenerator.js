
export default class PDFgenerator {

  generate(data) {
    console.log(data)
    let doc =  new PDFDocument({size: 'A4', margin: 50});
      doc.fontSize(12);

    doc.text(`Candidate: ${data.candidate.name} <${data.candidate.email}>`)
    doc.moveDown()

    doc.text(`Position: ${data.position} `)

    _.each(data.refree, (refData)=> {
      doc.moveDown()
      doc.text(`Referer: ${refData.email}`)
      _.each(refData.responses, (responseData) => {
        doc.moveDown()
        doc.text(`Q. ${responseData.question}`)
        doc.moveDown()
        doc.text(`A. ${responseData.answers}`)
        doc.moveDown()
      })
    })

    doc.moveDown()
    doc.fontSize(8);
    doc.text('Generated By EZYREF')
    doc.write(`${data.candidate.name}.pdf`);
  }
}
